import random
from telebot import types

def register_handlers(bot):
    
    # ูุงุฆูุฉ ุงูู 50 ุณุคุงู ูู ุฎูุฑูู
    CHOICE_QUESTIONS = [
        ["ูุงู ูุซูุฑ ุจุฏูู ุญุจ", "ุญุจ ุญูููู ุจุฏูู ูุงู"],
        ["ุณูุฉ ุจูุง ุฅูุชุฑูุช", "ุณูุฉ ุจูุง ุฃุตุฏูุงุก"],
        ["ูุดููุฑ ุจุฏูู ุฎุตูุตูุฉ", "ูุฌููู ุจุญุฑูุฉ ูุงููุฉ"],
        ["ุชุญููู ุญููู ูุชุจูู ูุญูุฏ", "ุณุนูุฏ ูุน ุงูุนุงุฆูุฉ ุจูุง ุญูู"],
        ["ุชุนูุด ุฏุงุฆููุง ูู ุงูุตูู", "ุชุนูุด ุฏุงุฆููุง ูู ุงูุดุชุงุก"],
        ["ุฐูุงุก ุฎุงุฑู ุจูุง ุชูุงุตู", "ุณุนุงุฏุฉ ูุงููุฉ ุจุฐูุงุก ูุชูุณุท"],
        ["ุญูุงุฉ ุฃุจุฏูุฉ ุจูุง ุฃุญุจุงุก", "ุชููุช ุดุงุจูุง ูุญุงุท ุจุงูุญุจ"],
        ["ูุง ุชุดุนุฑ ุจุงูุฃูู ุฃุจุฏูุง", "ูุง ุชุดุนุฑ ุจุงูุฎูู ุฃุจุฏูุง"],
        ["ุบูู ุฌุฏูุง ูููุชุฆุจ", "ูููุฑ ูุณุนูุฏ ุฌุฏูุง"],
        ["ูุฑุงุกุฉ ุงูุฃููุงุฑ", "ุงูุชุญูู ุจุงูููุช"],
        ["ุณูุฉ ูู ุงููุถุงุก", "ุณูุฉ ุชุญุช ุงููุงุก"],
        ["ุญูุงุฉ ุจุณูุทุฉ ุณุนูุฏุฉ", "ุญูุงุฉ ูุนูุฏุฉ ุบููุฉ ุจุงูุชุฌุงุฑุจ"],
        ["ูุดููุฑ ูุงููู ููุฑูู", "ุดุฎุต ุนุงุฏู ูุงููู ูุญุจู"],
        ["ูุฌุจุชู ุงูููุถูุฉ ููุท ุฏุงุฆููุง", "ูู ุงูุฃุทุนูุฉ ุฅูุง ุงูููุถูุฉ"],
        ["ุงูุชูุงู ุฐูุฑูุงุช ูุงููุฉ", "ูุณูุงู ุงูุฃูู ุจุณุฑุนุฉ"],
        ["ุณูุฑ ูููุงุถู ููุชุบููุฑ", "ุณูุฑ ูููุณุชูุจู ููุฑุคูุฉ"],
        ["ูุฏููุฉ ูุจูุฑุฉ ุตุงุฎุจุฉ", "ูุฑูุฉ ุตุบูุฑุฉ ูุงุฏุฆุฉ"],
        ["ุดุฌุงุน ููููู ุงูุฃุตุฏูุงุก", "ุฎุงุฆู ููุญุจูุจ ุฌุฏูุง"],
        ["ุจูุง ููู ููุนูู ุฏุงุฆููุง", "ููู ูุซูุฑ ูุถูุงุน ุงูููุช"],
        ["ุงููุฏุฑุฉ ุนูู ุงูุทูุฑุงู", "ุงููุฏุฑุฉ ุนูู ุงูุงุฎุชูุงุก"],
        ["ูุญุฏู ูู ููุงู ุฌููู", "ูุน ูุงุณ ูู ููุงู ุนุงุฏู"],
        ["ุชุบููุฑ ุงููุงุถู ุจูุง ูุณุชูุจู", "ุชุบููุฑ ุงููุณุชูุจู ุจูุง ูุงุถู"],
        ["ุนุจูุฑู ุบูุฑ ููููู", "ุนุงุฏู ููุญุจูุจ"],
        ["ุงูุญููู ููุท ููุฃุจุฏ", "ุงููุงูุญ ููุท ููุฃุจุฏ"],
        ["ุนุงูู ุจูุง ููุณููู", "ุนุงูู ุจูุง ูุชุจ"],
        ["ููููููุฑ ุจูุง ุฃุตุฏูุงุก", "ูููุฑ ูุน ุฃุตุฏูุงุก"],
        ["ุชููู ุงููู ููุง ุชุชุญุฏุซ", "ุชุชุญุฏุซ ููุง ุชููู ุฃุญุฏ"],
        ["ุงูุนูุด ูู ุงููุงุถู", "ุงูุนูุด ูู ุงููุณุชูุจู"],
        ["ุดูุฑ ุจูุง ูุงุชู", "ุดูุฑ ุจูุง ุทุนุงูู ุงูููุถู"],
        ["ุงูุชูุจุค ุจุงููุณุชูุจู", "ุชุบููุฑ ุงูุญุงุถุฑ"],
        ["ูุดููุฑ ุจูุง ุญุจ", "ูุฌููู ุจุญุจ ุญูููู"],
        ["ุจูุชุฒุง ููุฏุฉ ุฃุณุจูุน", "ุขูุณ ูุฑูู ููุฏุฉ ุฃุณุจูุน"],
        ["ุฃูุถู ูุงุนุจ ููุญูุฏ", "ูุงุนุจ ุนุงุฏู ููุญุจูุจ"],
        ["ูุนุฑูุฉ ุฃุณุฑุงุฑ ุงูุนุงูู", "ุณุนุงุฏุฉ ูุงุชุฌุฉ ุนู ุฌูู"],
        ["ูุฑุงุกุฉ ูู ุงููุชุจ ุจููู", "ุชุฌุฑุจุฉ ูู ุดูุก ูุฑุฉ"],
        ["ุจุฏูู ูุงุชู", "ุจุฏูู ุชููุงุฒ"],
        ["ุณูุฑ ููู ุงูุฏูู ูุญูุฏุงู", "ุณูุฑ ูุฏููุฉ ูุงุญุฏุฉ ูุน ุฃุตุฏูุงุก"],
        ["ุงูุฃุบูู ูุบูุฑ ุณุนูุฏ", "ุงูุฃููุฑ ูุณุนูุฏ ุฌุฏูุง"],
        ["ููุฉ ูุง ุชููุฒู", "ุญููุฉ ูุง ุญุฏูุฏ ููุง"],
        ["ุดูุฑ ูู ุงูุธูุงู", "ุดูุฑ ูู ุงูุถูุถุงุก"],
        ["ุฃุฐูู ุดุฎุต ูู ุงูุบุฑูุฉ", "ุฃูุซุฑ ุดุฎุต ูุฑุญ"],
        ["ุงูุนูุด ุจูุง ุญุจ", "ุงูุนูุด ุจูุง ูุงู"],
        ["ุญูู ูููู ุจูุง ุฃุตุฏูุงุก", "ุญูุงุฉ ุนุงุฏูุฉ ูุน ุฃุตุฏูุงุก"],
        ["ุฑุคูุฉ ุงููุณุชูุจู", "ุชุบููุฑ ุงููุงุถู"],
        ["ูุดููุฑ ูู ุงูุณูุดูุงู ููุฏูุง", "ูุญุจูุจ ูู ุงููุงูุน"],
        ["ุจูุง ููุณููู", "ุจูุง ุฃููุงู"],
        ["ุดุฌุงุน ููุญูุฏ", "ุฎุงุฆู ููุญุจูุจ"],
        ["ูุฏููุฉ ุตุงุฎุจุฉ", "ูุฑูุฉ ูุงุฏุฆุฉ"],
        ["ุทูุฑุงู", "ุงุฎุชูุงุก"],
        ["ุงูุณุนุงุฏุฉ ูููุง ูุงู ุงูุซูู", "ุงูุญุฑูุฉ ูููุง ูุงู ุงูุซูู"]
    ]

    @bot.message_handler(func=lambda m: m.text in ["ูู ุฎูุฑูู", "ูู", "ููุ"])
    def start_choice_game(m):
        q_pair = random.choice(CHOICE_QUESTIONS)
        
        text = (f"๐ค **ูู ุฎูุฑููุ**\n\n"
                f"ุงูุฎูุงุฑ ุงูุฃูู: {q_pair[0]}\n"
                f"ุงูุฎูุงุฑ ุงูุซุงูู: {q_pair[1]}\n\n"
                f"โ๏ธ ุงุฎุชุฑ ุจุฐูุงุกุ ูุง ูุฌุงู ููุชุฑุงุฌุน!")
        
        markup = types.InlineKeyboardMarkup(row_width=1)
        btn1 = types.InlineKeyboardButton(f"1๏ธโฃ {q_pair[0]}", callback_data="ch_1")
        btn2 = types.InlineKeyboardButton(f"2๏ธโฃ {q_pair[1]}", callback_data="ch_2")
        
        markup.add(btn1, btn2)
        bot.send_message(m.chat.id, text, reply_markup=markup, parse_mode="Markdown")

    @bot.callback_query_handler(func=lambda call: call.data.startswith("ch_"))
    def handle_choice(call):
        # ุชูููุฏ ูุณุจ ุนุดูุงุฆูุฉ ูุฒูุงุฏุฉ ุงูุชูุงุนู
        p1 = random.randint(30, 70)
        p2 = 100 - p1
        
        choice_num = "ุงูุฃูู" if call.data == "ch_1" else "ุงูุซุงูู"
        
        result_text = (f"โ **ุชู ุชุณุฌูู ุงุฎุชูุงุฑู!**\n\n"
                       f"ุฃูุช ุงุฎุชุฑุช ุงูุฎูุงุฑ: **{choice_num}**\n\n"
                       f"๐ ุชุตููุช ุงูุฃุนุถุงุก (ุงูุชุฑุงุถู):\n"
                       f"๐ ุงูุฎูุงุฑ 1: {p1}%\n"
                       f"๐ ุงูุฎูุงุฑ 2: {p2}%")
        
        bot.edit_message_text(result_text, call.message.chat.id, call.message.message_id)
